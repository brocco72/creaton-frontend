import { readable } from 'svelte/store';
import { setContext, getContext } from 'svelte';

var routerKey = {};
var responseKey = {};
var navigationKey = {};
function setup(router) {
  var initial = router.current();
  var response = readable(initial.response, function (set) {
    return router.observe(function (_ref) {
      var response = _ref.response;
      set(response);
    });
  });
  var navigation = readable(initial.navigation, function (set) {
    return router.observe(function (_ref2) {
      var navigation = _ref2.navigation;
      set(navigation);
    });
  });
  setContext(routerKey, router);
  setContext(responseKey, response);
  setContext(navigationKey, navigation);
}
function getRouter() {
  return getContext(routerKey);
}
function getResponse() {
  return getContext(responseKey);
}
function getNavigation() {
  return getContext(navigationKey);
}

export { getNavigation, getResponse, getRouter, setup };
